<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Transaction Data</title>
  <link rel="stylesheet" href="style.css">

  <!-- PyScript -->
  <link rel="stylesheet" href="https://pyscript.net/latest/pyscript.css" />
  <script defer src="https://pyscript.net/latest/pyscript.js"></script>

  <!-- Configure Python environment -->
  <py-config>
    packages = ["pandas"]
  </py-config>
</head>
<body>
  <header>
    <h1>Transaction Data</h1>
    <p>Forex, Cryptocurrency, and Tehran Stock Market Trading</p>
  </header>

  <section>
    <h2>Downloadable Files</h2>
    <p>Here you can download the official summaries, supporting data, and Python code for verification.</p>

    <ul>
      <li>
        <a href="data/Transaction Summary in Iranian Rial(IRR).pdf" download>
          Transaction Summaries in IRR (PDF)
        </a><br>
        <small>Official transaction summaries shown in Iranian Rial (IRR).</small>
      </li>
      <li>
        <a href="data/Transaction Summary (GBP).png" download>
          Transaction Summaries in GBP (PNG)
        </a><br>
        <small>Summaries converted into GBP for clarity.</small>
      </li>
      <li>
        <a href="data/combined.py" download>
          combined.py
        </a><br>
        <small>Python code used to verify calculations.</small>
      </li>
      <li>
        <a href="data/GBP-IRR.csv" download>
          GBP-IRR.csv
        </a><br>
        <small>Exchange rate history of GBP/IRR for all relevant dates.</small>
      </li>
      <li>
        <a href="data/Transactions.zip" download>
          Transactions.zip
        </a><br>
        <small>Each <code>name.csv</code> file contains transactions at specific dates.</small>
      </li>
    </ul>
  </section>

  <section>
    <h2>Run Python Code</h2>
    <p>You can execute a simplified demo of <code>combined.py</code> directly in your browser:</p>

    <!-- Interactive Python REPL (console) -->
    <py-repl auto-generate="true"></py-repl>

    <!-- Demo script executed on page load -->
    <py-script>
import pandas as pd

# Example simulated data
transactions = pd.DataFrame({
    "Date": ["2024-01-01", "2024-01-02", "2024-01-03"],
    "Value_GBP": [1000, 1200, 900]
})

print("=== Demo Transactions ===")
print(transactions)

# Example exchange rates
rates = pd.DataFrame({
    "Date": ["2024-01-01", "2024-01-02", "2024-01-03"],
    "GBP_IRR": [53000, 53200, 53100]
})

print("\n=== Exchange Rates ===")
print(rates)

# Merge & calculate values in IRR
merged = pd.merge(transactions, rates, on="Date")
merged["Value_IRR"] = merged["Value_GBP"] * merged["GBP_IRR"]

print("\n=== Transactions in IRR ===")
print(merged)
    </py-script>
  </section>

  <footer>
    <p><a href="index.html">â¬… Back to Main Page</a></p>
  </footer>
</body>
</html>
